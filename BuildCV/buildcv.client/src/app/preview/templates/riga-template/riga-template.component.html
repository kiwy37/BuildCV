<!-- riga-template.component.html -->
<div class="cv-riga-container" [ngStyle]="getContainerStyles()">
  <style>
    @import url('{{getGoogleFontUrl()}}');
  </style>

  <div class="cv-page">
    <div class="riga-page">
      <!-- Top Band -->
      <div class="riga-top" [ngStyle]="getTopBandStyles()">
        <span class="small">C V</span>
        <h1 [ngStyle]="getNameStyles()">{{fullNameUppercase}}</h1>
        <h2>{{personalInfo.title || personalInfo.profession || ''}}</h2>
        <div class="contact-row">
          <div>{{personalInfo.location || ''}}</div>
          <div>{{personalInfo.phone || ''}}</div>
          <div>{{personalInfo.email || ''}}</div>
        </div>
      </div>

      <div class="riga-body">
        <!-- Left Sidebar -->
        <aside class="riga-left">
          <!-- Avatar -->
          <div class="riga-avatar">
            <img *ngIf="personalInfo.photoUrl" [src]="personalInfo.photoUrl" alt="avatar">
            <div *ngIf="!personalInfo.photoUrl"></div>
          </div>

          <div class="left-section">
            <div class="profile-name">{{personalInfo.fullName || ''}}</div>
            <div class="profile-title">{{personalInfo.title || ''}}</div>

            <!-- Education -->
            <div *ngIf="cvData.education && cvData.education.length">
              <div class="left-heading">
                <h4 [ngStyle]="getLeftHeadingStyles()">Education</h4>
              </div>
              <div class="left-hr"></div>
              <div *ngFor="let edu of cvData.education" class="edu-item">
                <div class="degree">{{edu.degree}}</div>
                <div class="meta">{{edu.institution}} • {{edu.endDate || ''}}</div>
              </div>
            </div>

            <!-- Languages -->
            <div *ngIf="cvData.languages && cvData.languages.length">
              <div class="left-heading">
                <h4 [ngStyle]="getLeftHeadingStyles()">Languages</h4>
              </div>
              <div class="left-hr"></div>
              <div *ngFor="let lang of cvData.languages" class="lang-item">
                <div class="lang-label">{{getLanguageName(lang)}}</div>
                <div class="lang-bar">
                  <div class="lang-fill" [style.width.%]="getLanguageLevel(lang)"></div>
                </div>
              </div>
            </div>

            <!-- Skills -->
            <div *ngIf="cvData.skills && cvData.skills.length">
              <div class="left-heading">
                <h4 [ngStyle]="getLeftHeadingStyles()">Skills</h4>
              </div>
              <div class="left-hr"></div>
              <div class="skills-grid">
                <div *ngFor="let skill of cvData.skills" class="skill-tag">
                  {{getSkillName(skill)}}
                </div>
              </div>
            </div>
          </div>
        </aside>

        <!-- Right Main Content -->
        <main class="riga-right">
          <!-- Profile Section -->
          <div *ngIf="cvData.professionalSummary">
            <div class="section-title" [ngStyle]="getSectionTitleStyles()">Profile</div>
            <p>{{cvData.professionalSummary}}</p>
          </div>

          <!-- Work Experience -->
          <div *ngIf="cvData.experiences && cvData.experiences.length">
            <div class="section-title" [ngStyle]="getSectionTitleStyles()">Work Experience</div>
            <div *ngFor="let exp of cvData.experiences" class="job">
              <h3>{{exp.jobTitle}}</h3>
              <div class="company">
                {{exp.company}}
                <span *ngIf="exp.location"> • {{exp.location}}</span>
              </div>
              <p *ngIf="exp.responsibilities && exp.responsibilities.length">
                <span *ngFor="let resp of exp.responsibilities; let last = last">
                  • {{resp}}<br *ngIf="!last">
                </span>
              </p>
            </div>
          </div>

          <!-- Skills & Tools -->
          <div *ngIf="cvData.skills && cvData.skills.length">
            <div class="section-title" [ngStyle]="getSectionTitleStyles()">Skills & Tools</div>
            <div>
              <div *ngFor="let skill of cvData.skills" class="skill-row">
                <div class="skill-name">{{getSkillName(skill)}}</div>
                <div class="skill-meter">
                  <div class="fill"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Projects -->
          <div *ngIf="cvData.projects && cvData.projects.length">
            <div class="section-title" [ngStyle]="getSectionTitleStyles()">Projects</div>
            <div *ngFor="let project of cvData.projects" class="project-item">
              <div class="project-name">{{project.name}}</div>
              <div class="project-desc">{{project.description || ''}}</div>
            </div>
          </div>
        </main>
      </div>
    </div>
  </div>
</div>