<div
  class="preview-container"
  [class.sidebar-collapsed]="!showCustomizationPanel"
>
  <!-- Sidebar -->
  <div class="sidebar">
    <app-customize-menu
      [customization]="customization"
      [show]="showCustomizationPanel"
      [zoomPercent]="zoom * 100"
      (customizationChange)="onCustomizationChange()"
      (zoomChange)="setZoom($event)"
      (reset)="resetCustomization()"
      (exportPdf)="downloadPDF()"
      (back)="backToThemeSelection()"
    ></app-customize-menu>
  </div>

  <!-- Toggle -->
  <button
    class="sidebar-toggle"
    (click)="toggleCustomizationPanel()"
    [attr.aria-expanded]="showCustomizationPanel"
  >
    {{ showCustomizationPanel ? "‹" : "›" }}
  </button>

  <!-- CV viewport (scrollable) -->
  <div class="cv-viewport" *ngIf="!isLoading">
    <div
      class="cv-document"
      #cvPreview
      [innerHTML]="previewHtml"
      [style.transform]="'scale(' + zoom + ')'"
    ></div>
  </div>
</div>
