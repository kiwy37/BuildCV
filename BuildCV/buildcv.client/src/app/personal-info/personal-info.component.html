<div class="page-wrapper">
  
  <div class="header-section">
    <h2><i class="icon-user"></i> Personal Details</h2>
    </div>

  <div class="layout-grid">
    
    <aside class="sidebar">
      
      <div class="card photo-card">
        <div class="photo-wrapper">
          <div class="photo-circle" [class.active]="personalInfoForm.get('photoUrl')?.value">
            <img *ngIf="personalInfoForm.get('photoUrl')?.value" [src]="personalInfoForm.get('photoUrl')?.value" alt="Avatar">
            <i *ngIf="!personalInfoForm.get('photoUrl')?.value" class="icon-camera placeholder-icon"></i>
          </div>
        </div>
        
        <div class="photo-controls">
          <input type="file" accept="image/*" (change)="onPhotoSelected($event)" id="photoInput" hidden>
          <label for="photoInput" class="btn btn-outline">Change Photo</label>
          <button type="button" class="btn-icon-danger" (click)="removePhoto()" *ngIf="personalInfoForm.get('photoUrl')?.value">
            <i class="icon-trash"></i>
          </button>
        </div>
      </div>

      <div class="card sidebar-form">
        <form [formGroup]="personalInfoForm" class="sidebar-form-content">
          <div class="input-group">
            <label>Full Name <span class="req">*</span></label>
            <input type="text" formControlName="fullName" placeholder="e.g. Alex Smith">
          </div>
          
          <div class="input-group">
            <label>Email Address <span class="req">*</span></label>
            <input type="email" formControlName="email" placeholder="alex@example.com">
          </div>
          
          <div class="input-group">
            <label>Phone Number</label>
            <input type="tel" formControlName="phone" placeholder="+1 555 000 000">
          </div>
        </form>
      </div>
    </aside>

    <main class="main-content">
      
      <div class="card">
        <div class="card-head">
          <h3>Location & Social</h3>
        </div>
        <form [formGroup]="personalInfoForm" class="grid-form">
          <div class="input-group">
            <label>City, Country</label>
            <input type="text" formControlName="location" placeholder="London, UK">
          </div>
          <div class="input-group">
            <label>LinkedIn Profile</label>
            <input type="url" formControlName="linkedIn" placeholder="linkedin.com/in/alexsmith">
          </div>
          <div class="input-group full-width">
            <label>Personal Website / Portfolio</label>
            <input type="url" formControlName="website" placeholder="www.alexsmith.dev">
          </div>
        </form>
      </div>

      <div class="card">
        <div class="card-head">
          <h3>Professional Summary</h3>
          <div class="toggle-switch">
            <button type="button" class="btn-link" (click)="toggleSummary()">
              {{ showSummary ? 'Remove' : '+ Add Summary' }}
            </button>
          </div>
        </div>

        <form [formGroup]="professionalSummaryForm" *ngIf="showSummary">
          <div class="input-group no-margin">
            <textarea 
              formControlName="professionalSummary" 
              placeholder="Write 2-3 sentences about your career goals..."
              rows="6"></textarea>
            <div class="counter">{{ getCharacterCount() }} / 500</div>
          </div>
        </form>
      </div>

    </main>
  </div>
</div>